<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Alex OS Terminal</title>
<style>
    body {
        margin: 0;
        padding: 0;
        font-family: monospace;
        background-color: #000;
        color: #fff;
    }

    #terminal-container {
        width: 100%;
        height: 100vh;
        padding: 20px;
        box-sizing: border-box;
        overflow-y: auto;
        background-color: #000;
        color: #fff;
        display: none; /* Initially hide the terminal */
    }

    .input-line {
        display: flex;
        align-items: center;
    }

    .input-line input[type="text"] {
        flex: 1;
        padding: 5px;
        margin-right: 10px;
        border: none;
        background-color: #222;
        color: #fff;
        font-family: monospace;
    }

    .output-line {
        margin-bottom: 5px;
    }
</style>
</head>
<body>

<div id="terminal-container">
    <div class="output-line">$ Welcome to Alex OS Dev Terminal</div>
    <div class="output-line">$ Type 'help' for available commands</div>
    <div class="input-line">
        <input type="text" id="command-input" placeholder="Enter command" onkeydown="handleKeyDown(event)" autocomplete="off">
    </div>
</div>

<audio id="audio" src="goatscream.mp3" loop></audio>

<script>
let hackCompleted = false; // Track if hack is completed
let currentDirectory = '/root'; // Track current directory

function handleKeyDown(event) {
    if (event.key === 'Enter') {
        executeCommand();
    }
}

function executeCommand() {
    const input = document.getElementById('command-input');
    const commandWithArgs = input.value.trim().split(' ');
    const command = commandWithArgs[0];
    const args = commandWithArgs.slice(1);

    const outputContainer = document.getElementById('terminal-container');

    // Simulate command execution and generate response
    let response = '';

    switch (command) {
        case 'help':
            response += '$ Available commands:\n';
            response += '$ - help: Show this help message\n';
            response += '$ - clear: Clear the terminal\n';
            response += '$ - echo [message]: Display a message\n';
            response += '$ - cd [directory]: Change directory\n';
            response += '$ - hack: Attempt to hack into the targeted directory\n';
            response += '$ - whoami: Display current user\n';
            response += '$ - pwd: Show current directory\n';
            response += '$ - uname: Show system information\n';
            response += '$ - action [args]: Execute actions on the compromised computer. MUST HAVE COMPROMISED A COMPUTER IN ORDER TO USE\n';
            response += '$ - date: Show current date and time\n';
            response += '$ - sudo [command]: Execute a command with root privileges\n';
            response += '$ - exit: Exit the terminal (redirects you to the homepage)\n';
            if (hackCompleted) {
                response += '$ - action: Take control of the computer virtually\n';
            }
            break;
            case 'clear':
    const outputLines = document.querySelectorAll('.output-line');
    const commandInput = document.querySelector('.input-line');
    const welcomeMessage = document.querySelector('.output-line:nth-child(1)');
    const helpMessage = document.querySelector('.output-line:nth-child(2)');
    
    outputLines.forEach(line => {
        if (line !== commandInput && line !== welcomeMessage && line !== helpMessage) {
            outputContainer.removeChild(line);
        }
    });
    break;
        case 'echo':
            if (args.length === 0) {
                response = '$ Usage: echo [message]\n';
            } else {
                response = '$ ' + args.join(' ') + '\n';
            }
            break;
        case 'whoami':
            response = '$ User: Admin\n';
            break;
        case 'pwd':
            response = '$ ' + currentDirectory + '\n';
            break;
        case 'uname':
            response = '$ System: Alex OS v3.1\n';
            break;
        case 'date':
            response = '$ Date: ' + new Date().toString() + '\n';
            break;
        case 'hack':
            hackCompleted = false;
            // Get the current directory for hacking
            if (currentDirectory) {
                response += '$ Initiating hack on target located at: ' + currentDirectory + '\n';
                setTimeout(() => {
                    displayOutputLine('$ Compiling exploit code...', outputContainer);
                    setTimeout(() => {
                        displayOutputLine('$ Launching brute-force attack...', outputContainer);
                        setTimeout(() => {
                            displayOutputLine('$ Accessing target system...', outputContainer);
                            setTimeout(() => {
                                displayOutputLine('$ Running vulnerability scan...', outputContainer);
                                setTimeout(() => {
                                    displayOutputLine('$ Deploying malware payload...', outputContainer);
                                    setTimeout(() => {
                                        displayOutputLine('$ Hacking into target...', outputContainer);
                                        setTimeout(() => {
                                            hackCompleted = true;
                                            response += '$ Hack successful. Target compromised.\n';
                                            const outputLines = response.split('\n');
                                            displayOutputLinesSequentially(outputLines.slice(0, -1), outputContainer); // Display all except the last line
                                            setTimeout(() => {
                                                displayOutputLine('$ Hack successful. Target compromised.\n', outputContainer); // Display the last line after 4 seconds
                                            }, 4000);
                                        }, getRandomInterval()); // Random delay for hacking into target
                                    }, getRandomInterval());
                                }, getRandomInterval());
                            }, getRandomInterval());
                        }, getRandomInterval());
                    }, getRandomInterval());
                }, getRandomInterval());
            } else {
                response += '$ Error: Unable to determine current directory.\n';
            }
            break;
        case 'sudo':
            if (args.length === 0) {
                response = '$ Usage: sudo [command]\n';
            } else {
                response = '$ Password: ********\nPermission denied.\n';
            }
            break;
        case 'exit':
            window.location.href = 'https://bobreed24.github.io/Website/index.html';
            break;
        case 'cd':
            if (args.length === 0) {
                response = '$ Usage: cd [directory]\n';
            } else {
                // Placeholder message for changing directory
                response = '$ Directory changed to ' + args.join(' ') + '\n';
                currentDirectory = args.join(' '); // Update current directory
            }
            break;
        case 'action':
            if (hackCompleted) {
                // Handle subcommands for action
                if (args.length === 0) {
                    response = '$ Available subcommands for action:\n';
                    response += '$ - movefile [source] [destination]: Move a file\n';
                    response += '$ - shutdown: Shutdown the computer\n';
                    response += '$ - wipedisk: Wipe the disk\n';
                    response += '$ - viewstats: View system statistics\n';
                    // Add more subcommands here...
                } else {
                    const subcommand = args[0];
                    switch (subcommand) {
                        case 'movefile':
                            // Handle movefile subcommand
                            if (args.length < 3) {
                                response = '$ Usage: movefile [source] [destination]\n';
                            } else {
                                // Placeholder message for moving file
                                response = '$ Moving file from ' + args[1] + ' to ' + args[2] + '\n';
                            }
                            break;
                        case 'shutdown':
                            response = '$ Initiating shutdown...\n';
                            setTimeout(() => {
                                response += '$ Shutdown successful.\n';
                                const outputLines = response.split('\n');
                                displayOutputLinesSequentially(outputLines, outputContainer);
                            }, 3000);
                            break;
                        case 'wipedisk':
                            response = '$ Wiping disk...\n';
                            setTimeout(() => {
                                simulateDiskWipe(outputContainer);
                            }, 50);
                            break;
                        case 'viewstats':
                            response += '$ - RAM: 16GB\n';
                            response += '$ - CPU: Intel Core i7\n';
                            response += '$ - OS: Windows 10\n';
                            break;
                        default:
                            response = '$ Subcommand not found: ' + subcommand + '\n';
                            break;
                    }
                }
            } else {
                response += '$ Error: Action command is only accessible after successful hack.\n';
            }
            break;
        default:
            // Randomized responses for unknown commands
            const unknownResponses = [
                '$ Command not found: ' + command + '\n',
                '$ Sorry, I cannot comply.\n',
                '$ Access denied.\n',
                '$ Unauthorized command.\n'
                // Add more responses here...
            ];
            response = unknownResponses[Math.floor(Math.random() * unknownResponses.length)];
            break;
    }

    if (response) {
        const outputLines = response.split('\n');
        displayOutputLinesSequentially(outputLines, outputContainer);
    }

    input.value = ''; // Clear input field after executing the command
    input.focus(); // Focus on the input field after clearing it
}

function displayOutputLinesSequentially(lines, container) {
    let index = 0;

    function displayNextLine() {
        if (index < lines.length) {
            displayOutputLine(lines[index], container);
            index++;
            setTimeout(displayNextLine, 50); // Adjusted delay to 50 milliseconds
        }
    }

    displayNextLine();
}

function displayOutputLine(line, container) {
    const outputLine = document.createElement('div');
    outputLine.classList.add('output-line');
    outputLine.textContent = line;
    container.appendChild(outputLine);
    container.scrollTop = container.scrollHeight; // Scroll to bottom
}

function simulateDiskWipe(container) {
    const totalDuration = 15000; // Total duration for the disk wipe process (in milliseconds)
    const deletionInterval = 5; // Interval between each deletion (in milliseconds)
    const outputLines = [];
    const totalDeletions = Math.ceil(totalDuration / deletionInterval);
    
    for (let i = 0; i < totalDeletions; i++) {
        outputLines.push('$ Deleting file ' + generateRandomFilePath() + '...');
    }
    
    let index = 0;
    const interval = setInterval(() => {
        if (index < outputLines.length) {
            const outputLine = document.createElement('div');
            outputLine.classList.add('output-line');
            outputLine.textContent = outputLines[index];
            container.appendChild(outputLine);
            container.scrollTop = container.scrollHeight; // Scroll to bottom
            index++;
        } else {
            clearInterval(interval);
            const finalLine = document.createElement('div');
            finalLine.classList.add('output-line');
            finalLine.textContent = '$ Disk wipe completed.\n';
            container.appendChild(finalLine);
            container.scrollTop = container.scrollHeight; // Scroll to bottom
            const audio = document.getElementById('audio');
            audio.pause(); // Pause the audio
        }
    }, deletionInterval);
    
    setTimeout(() => {
        clearInterval(interval);
        const finalLine = document.createElement('div');
        finalLine.classList.add('output-line');
        finalLine.textContent = '$ Disk wipe completed.\n';
        container.appendChild(finalLine);
        container.scrollTop = container.scrollHeight; // Scroll to bottom
        const audio = document.getElementById('audio');
        audio.pause(); // Pause the audio
    }, totalDuration);
    
    const audio = document.getElementById('audio');
    audio.play();
}

function getRandomInterval() {
    return Math.floor(Math.random() * 401) + 100; // Random interval between 100 and 500
}

function generateRandomFileName() {
    const characters = 'abcdefghijklmnopqrstuvwxyz0123456789';
    const length = Math.floor(Math.random() * 10) + 5; // Random length between 5 and 14 characters
    let result = '';
    for (let i = 0; i < length; i++) {
        result += characters.charAt(Math.floor(Math.random() * characters.length));
    }
    return result;
}

function generateRandomFilePath() {
    const directories = ['usr', 'bin', 'etc', 'home', 'var', 'tmp'];
    const extensions = ['.txt', '.doc', '.pdf', '.jpg', '.png', '.mp3', '.mp4'];
    const path = directories[Math.floor(Math.random() * directories.length)] + '/' + generateRandomFileName() + extensions[Math.floor(Math.random() * extensions.length)];
    return path;
}

// Password prompt handling
window.onload = function() {
    const password = prompt("Enter the password to access the terminal:");
    if (password === 'dookietown') {
        document.getElementById('terminal-container').style.display = 'block'; // Show the terminal
    } else {
        alert('Incorrect password. Terminal access denied.');
    }
};

</script>

</body>
</html>
